<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> </title>
    <style type="text/css">
        canvas {
            border: 1px solid #000;
        }
    </style>
</head>

<body>
    <canvas width="600" height="500">
        当前浏览器版本不支持, 请更新浏览器
    </canvas>
    <canvas width="600" height="500">
        当前浏览器版本不支持, 请更新浏览器
    </canvas>

    <script src="/js/canvas.js"></script>
    <script type="text/javascript">
        // 获取 画布对象
        var canvas = document.getElementsByTagName("canvas")[0];
        // 获取画布上下文
        var ctx = canvas.getContext("2d");
        // 获取 画布对象
        var canvas2 = document.getElementsByTagName("canvas")[1];
        // 获取画布上下文
        var ctx2 = canvas2.getContext("2d");
        ctx.save();
        ctx2.save();

        ctxOnload(ctx);
        ctxOnload(ctx2);




        ctx.fillRect(0, 0, 50, 50);

        //  根据 x 水平方向和 y 垂直方向，为canvas 单位添加缩放变换的方法。
        // 默认的， 在 canvas 中一个单位实际上就是一个像素。例如，如果我们将0.5作为缩放因子，最终的单位会变成0.5像素，并且形状的尺寸会变成原来的一半。相似的方式，我们将2.0作为缩放因子，将会增大单位尺寸变成两个像素。形状的尺寸将会变成原来的两倍
        ctx.scale(2, 2);
        ctx.fillStyle = "#00f"
        ctx.fillRect(35, 0, 50, 50);
        ctx.restore();
        ctx.save();

        ctx.scale(2, 1);
        ctx.fillStyle = "#f00"
        ctx.fillRect(95, 0, 50, 50);
        ctx.restore();
        ctx.save();

        ctx.scale(1, 2);
        ctx.fillStyle = "#0f0"
        ctx.fillRect(310, 0, 50, 50);
        ctx.restore();
        ctx.save();

        ctx.fillRect(0, 150, 100, 100);

        ctx.scale(0.5, 0.5);
        ctx.fillStyle = "#f00"
        ctx.fillRect(240, 300, 100, 100);
        ctx.restore();
        ctx.save();

        ctx.scale(0.5, 1);
        ctx.fillStyle = "#0f0"
        ctx.fillRect(380, 150, 100, 100);
        ctx.restore();
        ctx.save();

        ctx.scale(1, 0.5);
        ctx.fillStyle = "#00f"
        ctx.fillRect(260, 300, 100, 100);
        ctx.restore();
        ctx.save();

        var xs = 0.9;
        var ys = 0.9;
        var x = 100;
        var y = 350;
        var w = 100;
        var h = 100;
        var count = 0;
        var a = setInterval(() => {


        }, 1000);

        // 随机获取颜色信息
        function getRandomColor() {
            var colorNum = "0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f";
            var colorArray = colorNum.split(",");
            var color = "#";
            for (var i = 0; i < 6; i++) {
                var index = parseInt(Math.random() * colorArray.length);
                color += colorArray[index];
            }

            console.log(color);
            return color;


        }


        ctx2.stroke();
        var xs = 1;
        var ys = 1;
        var x = 10;
        var y = 280;
        var xss = 0.9;
        var yss = 0.9;
        var a = setInterval(function() {
            ctx.clearRect(accDiv(x, xs), accDiv(y, ys), 100, 100);
            xs = accMul(xs, xss);
            ys = accMul(ys, yss);
            ctx.scale(xss, yss);
            ctx.fillRect(accDiv(x, xs), accDiv(y, ys), 100, 100);
            if (xs <= 0.5) {
                xss = 1.1;
                yss = 1.1;
            } else if (xs >= 2) {
                yss = 0.9;
                xss = 0.9;
            }
        }, 1000);

        // var xs = xs * 0.9;
        // var ys = ys * 0.9;
        // ctx2.scale(1.5, 1);
        // ctx2.fillRect((1 / 1.5 * 10), 10, 100, 100);






        // 你可以使用 ctx.scale(-1, 1) 水平翻转上下文， 使用 ctx.scale(1, -1) 垂直翻转上下文。 在这个例子中， "Hello world!"
        // 被水平翻转
        // 注意， 对fillText() 的调用指定了负的x坐标。 这是为了调整负的缩放系数: -280 * -1 变成280， 文本从该点向左绘制

        ctx2.fillStyle = "#f00";
        ctx2.font = '48px serif';
        ctx2.fillText('Hello world!', 0, 48);


        // 垂直翻转
        ctx2.restore();
        ctx2.save();
        ctx2.scale(1, -1);
        ctx2.font = '48px serif';
        ctx2.fillText('Hello world!', 0, -48);


        // 水平翻转
        ctx2.restore();
        ctx2.save();
        ctx2.fillStyle = "#f00";
        ctx2.scale(-1, 1);
        ctx2.font = '48px serif';
        ctx2.fillText('Hello world!', -560, 48);

        // 垂直翻转+水平翻转
        ctx2.restore();
        ctx2.save();
        ctx2.scale(-1, -1);
        ctx2.font = '48px serif';
        ctx2.fillText('Hello world!', -560, -48);
    </script>
</body>

</html>